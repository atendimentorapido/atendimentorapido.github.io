<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellantis Financiamentos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #0a1a2f;
            color: #ffffff;
        }

        /* Header */
        .header {
            background-color: #0a1a2f;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #1e3a6b;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, #8bb9ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #0f2542 0%, #1a3a62 100%);
            border-radius: 20px;
            padding: 60px 40px;
            margin-bottom: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid #2d4b7a;
        }

        .hero h2 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 18px;
            color: #b8d0ff;
            max-width: 600px;
            margin-bottom: 30px;
        }

        /* Cards Section */
        .section-title {
            font-size: 32px;
            margin-bottom: 30px;
            color: #ffffff;
            border-left: 6px solid #4d8cff;
            padding-left: 20px;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .card {
            background: #102b44;
            border-radius: 15px;
            padding: 30px;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #2d4b7a;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            cursor: pointer;
            text-decoration: none;
            color: #ffffff;
            display: block;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,100,255,0.2);
            border-color: #4d8cff;
        }

        .card-icon {
            font-size: 40px;
            margin-bottom: 20px;
            color: #4d8cff;
        }

        .card h3 {
            font-size: 22px;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .card p {
            color: #b0c4de;
            line-height: 1.6;
        }

        /* Contract Selection Area */
        .contract-area {
            background: #0f2542;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 50px;
            border: 1px solid #2d4b7a;
        }

        .contract-title {
            font-size: 28px;
            margin-bottom: 30px;
            color: #ffffff;
            text-align: center;
        }

        .brand-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 40px;
        }

        .brand-btn {
            background: #1a3a62;
            color: #ffffff;
            border: 2px solid #2d4b7a;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .brand-btn:hover, .brand-btn.active {
            background: #4d8cff;
            border-color: #4d8cff;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(77,140,255,0.4);
        }

        /* Payment Info */
        .payment-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            background: #102b44;
            border-radius: 15px;
            padding: 30px;
            border: 1px solid #2d4b7a;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .info-item label {
            color: #b0c4de;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-item select, .info-item input {
            background: #0a1a2f;
            border: 2px solid #2d4b7a;
            color: #ffffff;
            padding: 12px 15px;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }

        .info-item select:focus, .info-item input:focus {
            border-color: #4d8cff;
        }

        .info-item input::placeholder {
            color: #5f7a9c;
        }

        .info-item select option {
            background: #0a1a2f;
            color: #ffffff;
        }

        .installments-paid {
            grid-column: span 2;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .installments-selector {
            background: #0a1a2f;
            border: 2px solid #2d4b7a;
            border-radius: 10px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .installment-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-bottom: 1px solid #2d4b7a;
            color: #ffffff;
            cursor: pointer;
            transition: background 0.3s;
        }

        .installment-checkbox:last-child {
            border-bottom: none;
        }

        .installment-checkbox:hover {
            background: #1a3a62;
        }

        .installment-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #4d8cff;
        }

        .installment-checkbox span {
            flex: 1;
            font-size: 15px;
            font-weight: 500;
        }

        .installment-checkbox .installment-status {
            color: #b0c4de;
            font-size: 13px;
            font-weight: normal;
        }

        .installment-checkbox.paid .installment-status {
            color: #00c853;
        }

        .installment-checkbox.paid .installment-status::before {
            content: "✓ PAGA";
            margin-right: 5px;
        }

        /* Action Buttons - All Light Blue with WhatsApp direct links */
        .action-buttons {
            grid-column: span 2;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 10px;
        }

        .action-btn {
            background: #4d8cff;
            color: #ffffff;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(77,140,255,0.3);
            text-decoration: none;
            width: 100%;
        }

        .action-btn:hover {
            background: #2a6ad9;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(77,140,255,0.5);
        }

        .action-btn i {
            font-size: 18px;
        }

        .total-value {
            grid-column: span 2;
            background: linear-gradient(135deg, #1a3a62 0%, #2d4b7a 100%);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid #4d8cff;
            margin-top: 20px;
        }

        .total-value span:first-child {
            color: #b8d0ff;
            font-size: 18px;
            font-weight: 600;
        }

        .total-value span:last-child {
            color: #4d8cff;
            font-size: 32px;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(77,140,255,0.3);
        }

        /* Footer */
        .footer {
            background: #071126;
            padding: 50px 20px 20px;
            margin-top: 50px;
            border-top: 2px solid #1e3a6b;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-column h4 {
            color: #ffffff;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 12px;
            color: #b0c4de;
        }

        .footer-column ul li i {
            color: #4d8cff;
            margin-right: 10px;
        }

        .footer-column ul li a {
            color: #b0c4de;
            text-decoration: none;
            transition: color 0.3s;
            cursor: pointer;
        }

        .footer-column ul li a:hover {
            color: #4d8cff;
        }

        .copyright {
            text-align: center;
            color: #5f7a9c;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #1e3a6b;
        }

        /* Helper text for formatted input */
        .helper-text {
            color: #b0c4de;
            font-size: 12px;
            margin-top: 5px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            overflow-y: auto;
        }

        .modal-content {
            background: #0f2542;
            margin: 50px auto;
            padding: 40px;
            border: 2px solid #4d8cff;
            border-radius: 20px;
            width: 80%;
            max-width: 800px;
            color: #ffffff;
            position: relative;
            box-shadow: 0 10px 40px rgba(77,140,255,0.3);
        }

        .close-btn {
            position: absolute;
            right: 20px;
            top: 20px;
            background: #4d8cff;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .close-btn:hover {
            background: #2a6ad9;
        }

        .modal h2 {
            color: #4d8cff;
            font-size: 28px;
            margin-bottom: 20px;
            border-bottom: 2px solid #4d8cff;
            padding-bottom: 10px;
        }

        .modal h3 {
            color: #b8d0ff;
            font-size: 20px;
            margin: 20px 0 10px;
        }

        .modal p {
            color: #ffffff;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .modal ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .modal li {
            color: #b0c4de;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .modal strong {
            color: #4d8cff;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 15px 20px;
                justify-content: center;
            }

            .hero h2 {
                font-size: 32px;
            }

            .payment-info {
                grid-template-columns: 1fr;
            }

            .installments-paid, .total-value, .action-buttons {
                grid-column: span 1;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            .brand-selector {
                gap: 10px;
            }

            .brand-btn {
                padding: 8px 15px;
                font-size: 14px;
            }

            .total-value {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
                margin: 20px auto;
            }
        }
    </style>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header - Without menu tabs -->
    <header class="header">
        <div class="logo">
            <h1>STELLANTIS FINANCIAMENTOS</h1>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <h2>Realize o sonho do seu carro novo</h2>
            <p>Taxas competitivas, parcelas que cabem no seu bolso e as melhores condições para você sair da concessionária com seu veículo zero ou seminovo.</p>
        </section>

        <!-- Quick Access Cards - All with WhatsApp direct links -->
        <h2 class="section-title">Serviços Rápidos</h2>
        <div class="cards">
            <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a 2ª Via do Boleto do meu financiamento." class="card" target="_blank">
                <div class="card-icon"><i class="fas fa-barcode"></i></div>
                <h3>2ª Via do Boleto</h3>
                <p>Emita a segunda via do seu boleto de forma rápida e prática</p>
            </a>
            <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a Quitação do meu Contrato de financiamento." class="card" target="_blank">
                <div class="card-icon"><i class="fas fa-file-signature"></i></div>
                <h3>Quitação de Contrato</h3>
                <p>Quite seu financiamento antecipadamente com condições especiais</p>
            </a>
            <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a Antecipação de Parcelas do meu financiamento." class="card" target="_blank">
                <div class="card-icon"><i class="fas fa-calendar-check"></i></div>
                <h3>Antecipação de Parcelas</h3>
                <p>Antecipe suas parcelas e ganhe descontos exclusivos</p>
            </a>
        </div>

        <!-- Contract Selection Area -->
        <div class="contract-area">
            <h2 class="contract-title">Consulte seu Contrato</h2>
            
            <!-- Brand Selector -->
            <div class="brand-selector">
                <button class="brand-btn" onclick="selectBrand('jeep')">Jeep</button>
                <button class="brand-btn" onclick="selectBrand('peugeot')">Peugeot</button>
                <button class="brand-btn" onclick="selectBrand('ram')">RAM</button>
                <button class="brand-btn" onclick="selectBrand('citroen')">Citroën</button>
                <button class="brand-btn" onclick="selectBrand('fiat')">Fiat</button>
                <button class="brand-btn" onclick="selectBrand('leapmotor')">Leapmotor</button>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <div class="info-item">
                    <label>Número do Contrato</label>
                    <input type="text" placeholder="Digite o número do contrato" id="contractNumber">
                </div>
                <div class="info-item">
                    <label>Valor Total do Contrato (R$)</label>
                    <input type="text" placeholder="Ex: 50.000,00" id="totalValue" onkeyup="formatCurrency(this)" onchange="updateTotalDisplay()">
                    <div class="helper-text">Digite apenas números - formatação automática</div>
                </div>
                <div class="info-item">
                    <label>Número de Parcelas</label>
                    <select id="installmentCount" onchange="updateInstallments()">
                        <option value="12">12 parcelas</option>
                        <option value="24">24 parcelas</option>
                        <option value="36">36 parcelas</option>
                        <option value="48">48 parcelas</option>
                        <option value="60">60 parcelas</option>
                    </select>
                </div>
                <div class="installments-paid">
                    <label>Selecione as Parcelas Pagas</label>
                    <div class="installments-selector" id="installmentsSelector">
                        <!-- Parcelas serão geradas dinamicamente via JavaScript -->
                    </div>
                </div>

                <!-- Action Buttons - All Light Blue with WhatsApp direct links -->
                <div class="action-buttons">
                    <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a 2ª Via do Boleto do meu financiamento." class="action-btn" target="_blank" id="btn-second-via">
                        <i class="fas fa-barcode"></i>
                        2ª VIA
                    </a>
                    <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a Quitação do meu Contrato de financiamento." class="action-btn" target="_blank" id="btn-quotation">
                        <i class="fas fa-file-signature"></i>
                        QUITAÇÃO
                    </a>
                    <a href="https://wa.me/5511921474407?text=Olá! Gostaria de solicitar a Antecipação de Parcelas do meu financiamento." class="action-btn" target="_blank" id="btn-anticipation">
                        <i class="fas fa-calendar-check"></i>
                        ANTECIPAÇÃO
                    </a>
                </div>

                <div class="total-value" id="totalValueDisplay">
                    <span>VALOR TOTAL DO CONTRATO:</span>
                    <span id="totalAmount">R$ 50.000,00</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h4>Atendimento</h4>
                <ul>
                    <li><i class="fas fa-phone"></i> 0800 200 4022</li>
                    <li><i class="fas fa-phone"></i> (11) 3003 4022</li>
                    <li><i class="fas fa-envelope"></i> centralatend-financeira@stellantis.com</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Institucional</h4>
                <ul>
                    <li><a onclick="openModal('quem-somos')">Quem Somos</a></li>
                    <li><a href="#">Nossas Marcas</a></li>
                    <li><a href="#">Trabalhe Conosco</a></li>
                    <li><a href="#">Imprensa</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Links Úteis</h4>
                <ul>
                    <li><a href="#">Termos de Uso</a></li>
                    <li><a onclick="openModal('privacidade')">Política de Privacidade</a></li>
                    <li><a href="#">Cuidado com Fraudes</a></li>
                    <li><a href="#">Ouvidoria</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>STELLANTIS FINANCIAMENTOS SOCIEDADE DE CREDITO FINANCIAMENTO E INVESTIMENTO S.A. © 2024 TODOS OS DIREITOS RESERVADOS</p>
        </div>
    </footer>

    <!-- Modal - Quem Somos -->
    <div id="modal-quem-somos" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('quem-somos')"><i class="fas fa-times"></i></button>
            <h2>Quem Somos</h2>
            <p>A <strong>Stellantis Financiamentos</strong> é a instituição financeira responsável por oferecer as melhores soluções de crédito e financiamento para as marcas do grupo Stellantis no Brasil.</p>
            
            <h3>Nossa História</h3>
            <p>Resultado da fusão entre Fiat Chrysler Automobiles (FCA) e Groupe PSA, a Stellantis Financiamentos nasceu em 2021 com a missão de proporcionar acesso facilitado ao crédito para milhões de brasileiros que desejam adquirir veículos das marcas <strong>Fiat, Jeep, RAM, Peugeot, Citroën e Leapmotor</strong>.</p>
            
            <h3>Nossa Missão</h3>
            <p>Oferecer soluções financeiras inovadoras, transparentes e acessíveis, garantindo que nossos clientes realizem o sonho de ter um veículo novo ou seminovo com condições que cabem no bolso.</p>
            
            <h3>Números que nos representam</h3>
            <ul>
                <li><strong>+2 milhões</strong> de contratos ativos</li>
                <li><strong>+500</strong> concessionárias parceiras em todo o Brasil</li>
                <li><strong>+20 anos</strong> de experiência no mercado financeiro automotivo</li>
                <li><strong>+100 cidades</strong> atendidas em todo o território nacional</li>
            </ul>
            
            <h3>Nossos Valores</h3>
            <ul>
                <li><strong>Transparência:</strong> Relações claras e honestas com nossos clientes</li>
                <li><strong>Inovação:</strong> Busca constante por soluções financeiras modernas</li>
                <li><strong>Compromisso:</strong> Dedicação total à satisfação do cliente</li>
                <li><strong>Sustentabilidade:</strong> Práticas responsáveis em todos os negócios</li>
            </ul>
        </div>
    </div>

    <!-- Modal - Política de Privacidade -->
    <div id="modal-privacidade" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('privacidade')"><i class="fas fa-times"></i></button>
            <h2>Política de Privacidade</h2>
            <p>Na <strong>Stellantis Financiamentos</strong>, sua privacidade é nossa prioridade. Esta política explica como coletamos, usamos e protegemos suas informações pessoais.</p>
            
            <h3>1. Dados que coletamos</h3>
            <ul>
                <li><strong>Dados cadastrais:</strong> nome completo, CPF, RG, data de nascimento, estado civil</li>
                <li><strong>Dados de contato:</strong> endereço, telefone, e-mail</li>
                <li><strong>Dados profissionais:</strong> renda, profissão, empregador</li>
                <li><strong>Dados contratuais:</strong> informações sobre financiamentos, histórico de pagamentos</li>
                <li><strong>Dados de navegação:</strong> cookies, endereço IP, páginas acessadas</li>
            </ul>
            
            <h3>2. Como utilizamos seus dados</h3>
            <ul>
                <li>Análise de crédito para concessão de financiamentos</li>
                <li>Gestão e administração de contratos</li>
                <li>Comunicação sobre produtos e serviços</li>
                <li>Prevenção a fraudes e crimes financeiros</li>
                <li>Cumprimento de obrigações legais e regulatórias</li>
                <li>Melhoria contínua de nossos serviços</li>
            </ul>
            
            <h3>3. Compartilhamento de informações</h3>
            <p>Compartilhamos seus dados apenas com:</p>
            <ul>
                <li><strong>Órgãos de proteção ao crédito:</strong> SPC, Serasa, Boa Vista</li>
                <li><strong>Instituições financeiras parceiras</strong></li>
                <li><strong>Concessionárias das marcas Stellantis</strong></li>
                <li><strong>Autoridades governamentais:</strong> quando exigido por lei</li>
            </ul>
            
            <h3>4. Seus direitos (LGPD - Lei 13.709/2018)</h3>
            <ul>
                <li><strong>Confirmação de existência</strong> de tratamento de dados</li>
                <li><strong>Acesso</strong> aos seus dados pessoais</li>
                <li><strong>Correção</strong> de dados incompletos, inexatos ou desatualizados</li>
                <li><strong>Anonimização, bloqueio ou eliminação</strong> de dados desnecessários</li>
                <li><strong>Portabilidade</strong> dos dados a outro fornecedor</li>
                <li><strong>Eliminação</strong> dos dados tratados com consentimento</li>
                <li><strong>Informação</strong> sobre compartilhamento de dados</li>
                <li><strong>Revogação do consentimento</strong> a qualquer momento</li>
            </ul>
            
            <h3>5. Segurança dos dados</h3>
            <p>Utilizamos as mais avançadas tecnologias de segurança, incluindo:</p>
            <ul>
                <li>Criptografia de ponta a ponta (SSL/TLS)</li>
                <li>Firewalls e sistemas de detecção de intrusão</li>
                <li>Controle rigoroso de acesso a dados</li>
                <li>Monitoramento 24/7 de atividades suspeitas</li>
                <li>Certificações de segurança internacionais (ISO 27001)</li>
            </ul>
            
            <h3>6. Cookies e tecnologias similares</h3>
            <p>Utilizamos cookies para melhorar sua experiência em nosso site, incluindo:</p>
            <ul>
                <li><strong>Cookies essenciais:</strong> necessários para o funcionamento do site</li>
                <li><strong>Cookies de desempenho:</strong> para analisar como você usa o site</li>
                <li><strong>Cookies de funcionalidade:</strong> para lembrar suas preferências</li>
            </ul>
            
            <h3>7. Contato do Encarregado de Dados (DPO)</h3>
            <p>Caso tenha dúvidas sobre esta política ou queira exercer seus direitos, entre em contato com nosso Encarregado de Proteção de Dados:</p>
            <p style="margin-top: 10px; background: #1a3a62; padding: 15px; border-radius: 8px;">
                <i class="fas fa-envelope" style="color: #4d8cff; margin-right: 10px;"></i> dpo@stellantisfinanciamentos.com.br<br>
                <i class="fas fa-phone" style="color: #4d8cff; margin-right: 10px;"></i> (11) 3003-4022 (opção 5)
            </p>
            
            <p style="margin-top: 20px; font-style: italic; color: #b0c4de;">Última atualização: 24 de fevereiro de 2026</p>
        </div>
    </div>

    <script>
        let selectedBrand = 'jeep';
        let paidInstallments = [];

        // Initialize the page
        window.onload = function() {
            // Set default brand as active
            document.querySelector('.brand-btn').classList.add('active');
            updateInstallments();
            updateTotalDisplay();
            updateWhatsAppLinks();
        };

        // Format currency with dots and commas
        function formatCurrency(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length === 0) {
                input.value = '';
                return;
            }
            
            // Convert to number and format
            let numberValue = parseFloat(value) / 100;
            let formattedValue = numberValue.toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            input.value = formattedValue;
            updateTotalDisplay();
            updateWhatsAppLinks();
        }

        // Brand selection function
        function selectBrand(brand) {
            // Remove active class from all buttons
            document.querySelectorAll('.brand-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            selectedBrand = brand;
            updateWhatsAppLinks();
        }

        // Update installments based on selected count
        function updateInstallments() {
            const count = parseInt(document.getElementById('installmentCount').value);
            const selector = document.getElementById('installmentsSelector');
            
            // Generate installments checkboxes
            let html = '';
            for (let i = 1; i <= count; i++) {
                const isPaid = paidInstallments.includes(i);
                html += `
                    <div class="installment-checkbox ${isPaid ? 'paid' : ''}" onclick="toggleInstallment(${i})">
                        <input type="checkbox" ${isPaid ? 'checked' : ''} onchange="toggleInstallment(${i})">
                        <span>Parcela ${i}</span>
                        <span class="installment-status">${isPaid ? 'PAGA' : 'A vencer'}</span>
                    </div>
                `;
            }
            selector.innerHTML = html;
            updateWhatsAppLinks();
        }

        // Toggle installment paid status
        function toggleInstallment(installmentNumber) {
            const index = paidInstallments.indexOf(installmentNumber);
            if (index === -1) {
                paidInstallments.push(installmentNumber);
            } else {
                paidInstallments.splice(index, 1);
            }
            paidInstallments.sort((a, b) => a - b);
            updateInstallments();
        }

        // Update total value display
        function updateTotalDisplay() {
            const totalValue = document.getElementById('totalValue').value || '50.000,00';
            document.getElementById('totalAmount').textContent = `R$ ${totalValue}`;
        }

        // Get raw numeric value from formatted string
        function getNumericValue(formattedValue) {
            if (!formattedValue) return 0;
            return parseFloat(formattedValue.replace(/\./g, '').replace(',', '.'));
        }

        // Update WhatsApp links with contract data
        function updateWhatsAppLinks() {
            const contractNumber = document.getElementById('contractNumber').value || '[Número do Contrato]';
            const brandName = selectedBrand.charAt(0).toUpperCase() + selectedBrand.slice(1);
            
            // Format paid installments for message
            const paidList = paidInstallments.length > 0 ? paidInstallments.join(', ') : 'Nenhuma';
            
            // Get total value
            const totalValue = document.getElementById('totalValue').value || 'Valor não informado';
            
            // Get installment count
            const installmentCount = document.getElementById('installmentCount').value;
            
            // Calculate installment value if total is provided
            let installmentValue = '';
            let remainingBalance = '';
            
            if (document.getElementById('totalValue').value) {
                const numericTotal = getNumericValue(document.getElementById('totalValue').value);
                const instValue = (numericTotal / parseInt(installmentCount)).toFixed(2);
                installmentValue = parseFloat(instValue).toLocaleString('pt-BR', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                
                const paidCount = paidInstallments.length;
                const paidAmount = paidCount * parseFloat(instValue);
                const remaining = (numericTotal - paidAmount).toFixed(2);
                remainingBalance = parseFloat(remaining).toLocaleString('pt-BR', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
            }
            
            // Create detailed message for each button
            const baseMessage = `Olá! Gostaria de informações sobre meu financiamento.%0A%0A` +
                               `*Marca:* ${brandName}%0A` +
                               `*Número do Contrato:* ${contractNumber}%0A` +
                               `*Valor Total:* R$ ${totalValue}%0A` +
                               `*Total de Parcelas:* ${installmentCount}%0A` +
                               `*Valor da Parcela:* R$ ${installmentValue || 'Não calculado'}%0A` +
                               `*Parcelas Pagas:* ${paidList}%0A` +
                               `*Saldo Devedor:* R$ ${remainingBalance || 'Não calculado'}%0A%0A`;
            
            // Update 2ª Via button
            document.getElementById('btn-second-via').href = 
                `https://wa.me/5511921474407?text=${baseMessage}*Serviço solicitado:* 2ª Via do Boleto`;
            
            // Update Quitação button
            document.getElementById('btn-quotation').href = 
                `https://wa.me/5511921474407?text=${baseMessage}*Serviço solicitado:* Quitação de Contrato`;
            
            // Update Antecipação button
            document.getElementById('btn-anticipation').href = 
                `https://wa.me/5511921474407?text=${baseMessage}*Serviço solicitado:* Antecipação de Parcelas`;
        }

        // Add event listener to contract number input
        document.getElementById('contractNumber').addEventListener('input', updateWhatsAppLinks);
        document.getElementById('installmentCount').addEventListener('change', updateWhatsAppLinks);

        // Modal functions
        function openModal(type) {
            closeModals();
            document.getElementById(`modal-${type}`).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal(type) {
            document.getElementById(`modal-${type}`).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function closeModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModals();
            }
        }
    </script>
</body>
</html>